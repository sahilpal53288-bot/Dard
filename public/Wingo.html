<input id="bet" placeholder="Bet Amount">
<input id="number" placeholder="Your Guess">
<button onclick="playWingo()">Play</button>
<p id="result"></p>
<p>Wallet: ‚Çπ<span id="wallet">0</span></p>

<script>
let username = prompt("Enter your username for wallet"); // Or pass from login page
document.getElementById("wallet").innerText = 1000; // initial wallet

async function playWingo() {
  const bet = Number(document.getElementById("bet").value);
  const guess = Number(document.getElementById("number").value);

  const res = await fetch("/api/wingo-play", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ username, bet, guess })
  });

  const data = await res.json();
  if(!data.success){
    document.getElementById("result").innerText = data.message;
    return;
  }

  let msg = data.win ? `üéâ You won! Number was ${data.result}` : `‚ùå You lost! Number was ${data.result}`;
  document.getElementById("result").innerText = msg;
  document.getElementById("wallet").innerText = data.wallet;
}
</script>
